# PTA 题目导出助手（佛脚刷题版）

[![GitHub License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Tampermonkey](https://img.shields.io/badge/Tampermonkey-Script-yellow.svg)](https://www.tampermonkey.net/)

这是一个专为PTA（程序设计类实验辅助教学平台）设计的用户脚本，能够将题库中的单选、多选和判断题导出为文本文件，格式适配**佛脚刷题小程序**，方便反复练习与复习。

## ✨ 功能特点

- **一键导出**：在PTA题目列表页面点击右下角悬浮按钮，即可自动提取所有题目
- **智能解锁**：提供"解除封印"功能，自动解锁被禁用的题目和选项
- **格式适配**：自动转换为佛脚刷题小程序可识别的格式
- **题型支持**：支持单选题、多选题、判断题三种题型
- **古风界面**：精心设计的古典风格操作面板，使用体验更佳
- **智能去重**：自动识别并去除重复内容，优化输出文本
- **公式兼容**：能够正确处理 LaTeX 数学公式和特殊符号
- **图片转文本**：将题目中的图片自动转换为文字描述

## 📦 安装方法

### 前提条件
1. 安装浏览器扩展：[Tampermonkey](https://www.tampermonkey.net/) 或 [Violentmonkey](https://violentmonkey.github.io/)
   - 如果你是首次使用油猴脚本，可以参考[油猴入门教程](https://www.bilibili.com/opus/909001790657134596?plat_id=5&share_from=article&share_medium=android&share_plat=android&share_session_id=4486af8d-387c-4113-8f52-ffe715dfd36c&share_source=WEIXIN&share_tag=s_i&spmid=dt.opus-detail.0.0&timestamp=1767767978&unique_k=fkxcoBk)来学习如何安装和使用。
2. 登录 [PTA 官网 (pintia.cn)](https://pintia.cn)，进入你要导出的**具体题目列表页面**。

### 安装脚本
1. 打开 Tampermonkey 控制面板
2. 选择"添加新脚本"
3. 将提供的脚本代码完整复制到编辑器中
4. 保存脚本（Ctrl+S）
5. 刷新 PTA 页面即可使用

## 🚀 使用方法

### 三步操作流程：
1. **入题集**：进入含有题目列表的 PTA 页面（例如：`https://pintia.cn/problem-sets/*/exam/problems/*`）
2. **解封印**：若题目或选项被锁定，点击"解除封印"按钮解锁，并手动勾选正确答案
3. **点誊抄**：点击右下角的红色"导出"按钮，展开面板后点击"开始誊抄"导出题目

### 操作界面说明：
- **右下角悬浮按钮**：红色"📥 导出"按钮，点击展开/收起操作面板
- **古风操作面板**：包含使用指引、状态提示和两个功能按钮
  - **🔓 解除封印**：解锁被禁用的题目和选项
  - **✍️ 开始誊抄**：执行题目导出并下载文本文件
- **状态提示区**：显示当前操作状态和结果反馈

## 📝 导出格式示例

### 单选题
```
下列哪个算法的时间复杂度是O(n^2)?(A)
A.冒泡排序  B.快速排序  C.归并排序  D.堆排序
```

### 判断题
```
栈是一种后进先出(LIFO)的数据结构。(T)
```

### 多选题
```
下列哪些是排序算法?(ABC)
A.冒泡排序  B.快速排序  C.归并排序  D.深度优先搜索
```

## 🔧 技术特性

- **智能解析**：自动识别题目类型和选项结构
- **文本清洗**：清理冗余空格、重复内容，优化阅读体验
- **公式处理**：将 LaTeX 公式转换为佛脚刷题可识别的文本格式
- **图片处理**：将题目中的图片转换为文字描述
- **编码安全**：使用 UTF-8 编码，确保中文正常显示
- **代码片段保留**：自动识别并保留题目中的代码片段

## ⚠️ 注意事项

1. 确保在**题目列表页面**使用本脚本，匹配路径为：`https://pintia.cn/problem-sets/*/exam/problems/*`
2. 使用前请先滚动页面，确保所有题目已加载完成
3. 导出的答案基于当前页面的已选答案（如有），请确认答案正确性
4. 部分特殊格式题目或复杂公式可能需要手动调整
5. 请遵守 PTA 平台的使用条款和版权规定，仅用于个人学习与复习

## 🐛 常见问题

**Q: 点击按钮没有反应？**
A: 请检查是否在正确的页面（题目列表页），并确保 Tampermonkey 已启用本脚本。

**Q: 导出的题目数量不对？**
A: 请尝试滚动页面确保所有题目加载完成，然后重新导出。

**Q: 公式显示异常？**
A: 脚本会将 LaTeX 公式转换为简单文本格式，复杂公式可能需要手动调整。

**Q: 如何修改导出格式？**
A: 可以修改 `parseProblemStructure` 函数来调整输出格式。

**Q: 题目被锁定无法选择答案？**
A: 点击"解除封印"按钮解锁题目，然后手动勾选正确答案。

## 📄 许可证

本项目基于 [MIT License](LICENSE) 开源。

## 🙏 致谢

- 感谢 PTA 平台提供优质的编程题库
- 感谢佛脚刷题小程序提供便捷的练习方式
- 感谢所有为开源社区做出贡献的开发者

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

1. Fork 本仓库
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启一个 Pull Request

## 📞 联系作者

如有问题或建议，请通过 GitHub Issues 提交反馈。

---
**温馨提示**：请合理使用本工具，遵守学术诚信原则，仅用于个人学习和复习。

---
```

主要改动：在"安装方法"的"前提条件"部分，第1点下方添加了油猴入门教程的链接和说明。
